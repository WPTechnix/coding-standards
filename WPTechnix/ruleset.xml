<?xml version="1.0"?>
<ruleset name="WPTechnix">
    <description>
        WPTechnix Coding Standards for PHP Projects
    </description>

    <!-- ################################################################## -->
    <!-- ##                    BASE STANDARD: PSR-12                     ## -->
    <!-- ################################################################## -->

    <rule ref="PSR12" />

    <!-- ################################################################## -->
    <!-- ##                   TYPE SAFETY                                ## -->
    <!-- ################################################################## -->

    <!-- Strict Types Declaration - CRITICAL -->
    <!-- PSR-12 compliant: 1 blank line after <?php, 1 blank line after declare -->
    <rule ref="SlevomatCodingStandard.TypeHints.DeclareStrictTypes">
        <properties>
            <property name="spacesCountAroundEqualsSign" value="0"/>
            <property name="linesCountBeforeDeclare" value="1"/>
            <property name="linesCountAfterDeclare" value="1"/>
            <property name="declareOnFirstLine" value="false"/>
        </properties>
    </rule>

    <!-- Parameter Type Hints - CRITICAL -->
    <rule ref="SlevomatCodingStandard.TypeHints.ParameterTypeHint">
        <properties>
            <property name="enableObjectTypeHint" value="true"/>
            <property name="enableMixedTypeHint" value="true"/>
            <property name="enableUnionTypeHint" value="true"/>
            <property name="enableIntersectionTypeHint" value="true"/>
            <property name="enableStandaloneNullTrueFalseTypeHints" value="true"/>
            <property name="traversableTypeHints" type="array">
                <element value="Traversable"/>
                <element value="Iterator"/>
                <element value="IteratorAggregate"/>
            </property>
        </properties>
        <exclude name="SlevomatCodingStandard.TypeHints.ParameterTypeHint.UselessAnnotation"/>
    </rule>
    <rule ref="SlevomatCodingStandard.TypeHints.ParameterTypeHintSpacing"/>

    <!-- Return Type Hints - CRITICAL -->
    <rule ref="SlevomatCodingStandard.TypeHints.ReturnTypeHint">
        <properties>
            <property name="enableObjectTypeHint" value="true"/>
            <property name="enableStaticTypeHint" value="true"/>
            <property name="enableMixedTypeHint" value="true"/>
            <property name="enableUnionTypeHint" value="true"/>
            <property name="enableIntersectionTypeHint" value="true"/>
            <property name="enableNeverTypeHint" value="true"/>
            <property name="enableStandaloneNullTrueFalseTypeHints" value="true"/>
            <property name="traversableTypeHints" type="array">
                <element value="Traversable"/>
                <element value="Iterator"/>
                <element value="IteratorAggregate"/>
            </property>
        </properties>
        <exclude name="SlevomatCodingStandard.TypeHints.ReturnTypeHint.UselessAnnotation"/>
    </rule>
    <rule ref="SlevomatCodingStandard.TypeHints.ReturnTypeHintSpacing">
        <properties>
            <property name="spacesCountBeforeColon" value="0"/>
        </properties>
    </rule>

    <!-- Property Type Hints - CRITICAL -->
    <rule ref="SlevomatCodingStandard.TypeHints.PropertyTypeHint">
        <properties>
            <property name="enableNativeTypeHint" value="true"/>
            <property name="enableMixedTypeHint" value="true"/>
            <property name="enableUnionTypeHint" value="true"/>
            <property name="enableIntersectionTypeHint" value="true"/>
            <property name="enableStandaloneNullTrueFalseTypeHints" value="true"/>
            <property name="traversableTypeHints" type="array">
                <element value="Traversable"/>
                <element value="Iterator"/>
                <element value="IteratorAggregate"/>
            </property>
        </properties>
        <exclude name="SlevomatCodingStandard.TypeHints.PropertyTypeHint.UselessAnnotation"/>
    </rule>

    <!-- Class Constant Type Hints (PHP 8.3+) -->
    <rule ref="SlevomatCodingStandard.TypeHints.ClassConstantTypeHint"/>

    <!-- Nullable Type for Null Default Value - CRITICAL -->
    <rule ref="SlevomatCodingStandard.TypeHints.NullableTypeForNullDefaultValue"/>

    <!-- Type Hint Formatting -->
    <rule ref="SlevomatCodingStandard.TypeHints.LongTypeHints"/>
    <rule ref="SlevomatCodingStandard.TypeHints.NullTypeHintOnLastPosition"/>
    <rule ref="SlevomatCodingStandard.TypeHints.DNFTypeHintFormat">
        <properties>
            <property name="enable" value="true"/>
            <property name="withSpacesAroundOperators" value="no"/>
            <property name="withSpacesInsideParentheses" value="no"/>
            <property name="shortNullable" value="yes"/>
            <property name="nullPosition" value="last"/>
        </properties>
    </rule>

    <!-- Disallow Array Type Hint Syntax (use generics in PHPDoc) -->
    <rule ref="SlevomatCodingStandard.TypeHints.DisallowArrayTypeHintSyntax"/>

    <!-- Strict Comparison Operators - CRITICAL -->
    <rule ref="SlevomatCodingStandard.Operators.DisallowEqualOperators"/>

    <!-- ################################################################## -->
    <!-- ##               MODERN PHP FEATURES (PHP 8.0+)                 ## -->
    <!-- ################################################################## -->

    <!-- Require Arrow Functions (Modern PHP) -->
    <rule ref="SlevomatCodingStandard.Functions.RequireArrowFunction">
        <properties>
            <property name="enable" value="true"/>
            <property name="allowNested" value="true"/>
        </properties>
    </rule>
    <rule ref="SlevomatCodingStandard.Functions.ArrowFunctionDeclaration">
        <properties>
            <property name="spacesCountAfterKeyword" value="1"/>
            <property name="spacesCountBeforeArrow" value="1"/>
            <property name="spacesCountAfterArrow" value="1"/>
            <property name="allowMultiLine" value="true"/>
        </properties>
    </rule>

    <!-- Require Constructor Property Promotion (PHP 8.0+) -->
    <rule ref="SlevomatCodingStandard.Classes.RequireConstructorPropertyPromotion"/>

    <rule ref="SlevomatCodingStandard.Classes.ForbiddenPublicProperty">
        <properties>
            <property name="checkPromoted" value="true" />
            <property name="allowReadonly" value="true" />
            <property name="allowNonPublicSet" value="true" />
        </properties>
    </rule>

    <!-- Require Null-Safe Object Operator (PHP 8.0+) -->
    <rule ref="SlevomatCodingStandard.ControlStructures.RequireNullSafeObjectOperator"/>

    <!-- Require Null Coalesce Operators -->
    <rule ref="SlevomatCodingStandard.ControlStructures.RequireNullCoalesceOperator"/>
    <rule ref="SlevomatCodingStandard.ControlStructures.RequireNullCoalesceEqualOperator"/>

    <!-- Require Non-Capturing Catch (PHP 8.0+) -->
    <rule ref="SlevomatCodingStandard.Exceptions.RequireNonCapturingCatch"/>

    <!-- Disallow Short Ternary (Type Safety) -->
    <rule ref="SlevomatCodingStandard.ControlStructures.DisallowShortTernaryOperator"/>

    <!-- Disallow use of empty() -->
    <rule ref="SlevomatCodingStandard.ControlStructures.DisallowEmpty"/>

    <!-- Require Numeric Literal Separator (Readability) -->
    <rule ref="SlevomatCodingStandard.Numbers.RequireNumericLiteralSeparator">
        <properties>
            <property name="enable" value="true"/>
            <property name="minDigitsBeforeDecimalPoint" value="5"/>
            <property name="minDigitsAfterDecimalPoint" value="4"/>
        </properties>
    </rule>

    <!-- Modern PHP Syntax -->
    <rule ref="SlevomatCodingStandard.PHP.ShortList"/>
    <rule ref="SlevomatCodingStandard.PHP.RequireNowdoc"/>
    <rule ref="SlevomatCodingStandard.PHP.TypeCast"/>

    <!-- ################################################################## -->
    <!-- ##                      ARRAY TYPE SAFETY                       ## -->
    <!-- ################################################################## -->

    <rule ref="SlevomatCodingStandard.Arrays.DisallowImplicitArrayCreation"/>
    <rule ref="SlevomatCodingStandard.Arrays.DisallowPartiallyKeyed"/>
    <rule ref="SlevomatCodingStandard.Arrays.TrailingArrayComma">
        <properties>
            <property name="enableAfterHeredoc" value="true"/>
        </properties>
    </rule>
    <rule ref="SlevomatCodingStandard.Arrays.MultiLineArrayEndBracketPlacement"/>
    <rule ref="SlevomatCodingStandard.Arrays.SingleLineArrayWhitespace">
        <properties>
            <property name="spacesAroundBrackets" value="0"/>
            <property name="enableEmptyArrayCheck" value="true"/>
        </properties>
    </rule>
    <rule ref="SlevomatCodingStandard.Arrays.ArrayAccess"/>

    <!-- ################################################################## -->
    <!-- ##                    TRAILING COMMAS (PSR-12)                  ## -->
    <!-- ################################################################## -->

    <rule ref="SlevomatCodingStandard.Functions.RequireTrailingCommaInCall"/>
    <rule ref="SlevomatCodingStandard.Functions.RequireTrailingCommaInClosureUse"/>
    <rule ref="SlevomatCodingStandard.Functions.RequireTrailingCommaInDeclaration"/>

    <!-- Disallow trailing commas only on single-line constructs -->
    <rule ref="SlevomatCodingStandard.Functions.DisallowTrailingCommaInCall">
        <properties>
            <property name="onlySingleLine" value="true"/>
        </properties>
    </rule>
    <rule ref="SlevomatCodingStandard.Functions.DisallowTrailingCommaInClosureUse">
        <properties>
            <property name="onlySingleLine" value="true"/>
        </properties>
    </rule>
    <rule ref="SlevomatCodingStandard.Functions.DisallowTrailingCommaInDeclaration">
        <properties>
            <property name="onlySingleLine" value="true"/>
        </properties>
    </rule>

    <!-- ################################################################## -->
    <!-- ##              MULTI-LINE / SINGLE-LINE FORMATTING             ## -->
    <!-- ################################################################## -->

    <!-- Method Signatures -->
    <rule ref="SlevomatCodingStandard.Classes.RequireMultiLineMethodSignature">
        <properties>
            <property name="minLineLength" value="121"/>
            <property name="withPromotedProperties" value="true" />
        </properties>
    </rule>

    <!-- Function Calls -->
    <rule ref="SlevomatCodingStandard.Functions.RequireMultiLineCall">
        <properties>
            <property name="minLineLength" value="121"/>
        </properties>
    </rule>
    <rule ref="SlevomatCodingStandard.Functions.RequireSingleLineCall">
        <properties>
            <property name="maxLineLength" value="120"/>
            <property name="ignoreWithComplexParameter" value="true"/>
        </properties>
    </rule>

    <!-- Conditions -->
    <rule ref="SlevomatCodingStandard.ControlStructures.RequireMultiLineCondition">
        <properties>
            <property name="minLineLength" value="121"/>
            <property name="booleanOperatorOnPreviousLine" value="false"/>
            <property name="alwaysSplitAllConditionParts" value="false"/>
        </properties>
    </rule>
    <rule ref="SlevomatCodingStandard.ControlStructures.RequireSingleLineCondition">
        <properties>
            <property name="maxLineLength" value="120"/>
            <property name="alwaysForSimpleConditions" value="true"/>
        </properties>
    </rule>

    <!-- Ternary Operators -->
    <rule ref="SlevomatCodingStandard.ControlStructures.RequireMultiLineTernaryOperator">
        <properties>
            <!-- PSR-12 typical line length limit -->
            <property name="lineLengthLimit" value="120"/>
            <property name="minExpressionsLength" value="null"/>
        </properties>
    </rule>


    <!-- ################################################################## -->
    <!-- ##                      EXCEPTION HANDLING                      ## -->
    <!-- ################################################################## -->

    <rule ref="SlevomatCodingStandard.Exceptions.ReferenceThrowableOnly"/>
    <rule ref="SlevomatCodingStandard.Exceptions.DeadCatch"/>

    <!-- ################################################################## -->
    <!-- ##                          CLASSES                             ## -->
    <!-- ################################################################## -->

    <rule ref="SlevomatCodingStandard.Classes.BackedEnumTypeSpacing">
        <properties>
            <property name="spacesCountBeforeColon" value="0"/>
            <property name="spacesCountBeforeType" value="1"/>
        </properties>
    </rule>

    <rule ref="SlevomatCodingStandard.Classes.ClassConstantVisibility">
        <properties>
            <property name="fixable" value="true"/>
        </properties>
    </rule>

    <rule ref="SlevomatCodingStandard.Classes.ClassMemberSpacing">
        <properties>
            <property name="linesCountBetweenMembers" value="1"/>
        </properties>
    </rule>

    <rule ref="SlevomatCodingStandard.Classes.ClassStructure">
        <properties>
            <property name="methodGroups" type="array">
                <element key="inject method" value="inject"/>
                <element key="inject methods" value="inject*"/>
                <element key="phpunit before" value="setUp, @before, #PHPUnit\Framework\Attributes\Before"/>
                <element key="phpunit data provider" value="*DataProvider"/>
            </property>

            <property name="groups" type="array">
                <!-- Imports & enum cases -->
                <element value="uses"/>
                <element value="enum cases"/>

                <!-- Constants -->
                <element value="public constants"/>
                <element value="constants"/>

                <!-- Properties -->
                <element value="public properties, protected properties, private properties, public static properties, protected static properties, private static properties"/>

                <!-- Constructor / special methods -->
                <element value="constructor"/>
                <element value="static constructors"/>

                <!-- Custom method groups -->
                <element value="inject method"/>
                <element value="inject methods"/>
                <element value="phpunit before"/>

                <!-- Methods -->
                <element value="public static final methods"/>
                <element value="public static abstract methods"/>
                <element value="protected static final methods"/>
                <element value="protected static abstract methods"/>

                <element value="public static methods"/>
                <element value="protected static methods"/>
                <element value="private static methods"/>

                <element value="public final methods"/>
                <element value="public abstract methods"/>
                <element value="protected final methods"/>
                <element value="protected abstract methods"/>

                <element value="public methods"/>
                <element value="protected methods"/>
                <element value="private methods"/>

                <!-- PHPUnit data providers after normal methods -->
                <element value="phpunit data provider"/>

                <!-- Magic methods last -->
                <element value="magic methods"/>

                <!-- Destructor last -->
                <element value="destructor"/>
            </property>
        </properties>
    </rule>

    <rule ref="SlevomatCodingStandard.Classes.ConstantSpacing">
        <properties>
            <property name="minLinesCountBeforeWithComment" value="1"/>
            <property name="maxLinesCountBeforeWithComment" value="1"/>
            <property name="minLinesCountBeforeWithoutComment" value="0"/>
            <property name="maxLinesCountBeforeWithoutComment" value="1"/>
        </properties>
    </rule>

    <rule ref="SlevomatCodingStandard.Classes.DisallowLateStaticBindingForConstants"/>
    <rule ref="SlevomatCodingStandard.Classes.DisallowMultiConstantDefinition"/>
    <rule ref="SlevomatCodingStandard.Classes.DisallowMultiPropertyDefinition"/>
    <rule ref="SlevomatCodingStandard.Classes.DisallowStringExpressionPropertyFetch"/>

    <rule ref="SlevomatCodingStandard.Classes.EmptyLinesAroundClassBraces">
        <properties>
            <property name="linesCountAfterOpeningBrace" value="0"/>
            <property name="linesCountBeforeClosingBrace" value="0"/>
        </properties>
    </rule>

    <rule ref="SlevomatCodingStandard.Classes.EnumCaseSpacing">
        <properties>
            <property name="minLinesCountBeforeWithComment" value="1"/>
            <property name="maxLinesCountBeforeWithComment" value="1"/>
            <property name="minLinesCountBeforeWithoutComment" value="0"/>
            <property name="maxLinesCountBeforeWithoutComment" value="1"/>
        </properties>
    </rule>

    <rule ref="SlevomatCodingStandard.Classes.MethodSpacing">
        <properties>
            <property name="minLinesCount" value="1"/>
            <property name="maxLinesCount" value="1"/>
        </properties>
    </rule>

    <rule ref="SlevomatCodingStandard.Classes.ModernClassNameReference">
        <properties>
            <property name="enableOnObjects" value="true"/>
        </properties>
    </rule>

    <rule ref="SlevomatCodingStandard.Classes.ParentCallSpacing"/>

    <rule ref="SlevomatCodingStandard.Classes.PropertyDeclaration">
        <properties>
            <property name="modifiersOrder" type="array">
                <element value="public"/>
                <element value="protected"/>
                <element value="private"/>
                <element value="static"/>
                <element value="readonly"/>
            </property>
            <property name="checkPromoted" value="true"/>
            <property name="enableMultipleSpacesBetweenModifiersCheck" value="true"/>
        </properties>
    </rule>

    <rule ref="SlevomatCodingStandard.Classes.PropertySpacing">
        <properties>
            <property name="minLinesCountBeforeWithComment" value="1"/>
            <property name="maxLinesCountBeforeWithComment" value="1"/>
            <property name="minLinesCountBeforeWithoutComment" value="0"/>
            <property name="maxLinesCountBeforeWithoutComment" value="1"/>
        </properties>
    </rule>

    <rule ref="SlevomatCodingStandard.Classes.RequireSelfReference"/>
    <rule ref="SlevomatCodingStandard.Classes.TraitUseDeclaration"/>
    <rule ref="SlevomatCodingStandard.Classes.TraitUseSpacing">
        <properties>
            <property name="linesCountBeforeFirstUse" value="1"/>
            <property name="linesCountBeforeFirstUseWhenFirstInClass" value="0"/>
            <property name="linesCountBetweenUses" value="0"/>
            <property name="linesCountAfterLastUse" value="1"/>
            <property name="linesCountAfterLastUseWhenLastInClass" value="1"/>
        </properties>
    </rule>

    <rule ref="SlevomatCodingStandard.Classes.UselessLateStaticBinding"/>

    <!-- ################################################################## -->
    <!-- ##                        ATTRIBUTES                            ## -->
    <!-- ################################################################## -->

    <rule ref="SlevomatCodingStandard.Attributes.AttributeAndTargetSpacing">
        <properties>
            <property name="linesCount" value="0"/>
            <property name="allowOnSameLine" value="false"/>
        </properties>
    </rule>
    <rule ref="SlevomatCodingStandard.Attributes.DisallowAttributesJoining"/>
    <rule ref="SlevomatCodingStandard.Attributes.DisallowMultipleAttributesPerLine"/>
    <rule ref="SlevomatCodingStandard.Attributes.RequireAttributeAfterDocComment"/>

    <!-- ################################################################## -->
    <!-- ##                        COMMENTING                            ## -->
    <!-- ################################################################## -->

    <rule ref="SlevomatCodingStandard.Commenting.AnnotationName"/>
    <rule ref="SlevomatCodingStandard.Commenting.DeprecatedAnnotationDeclaration"/>
    <rule ref="SlevomatCodingStandard.Commenting.DisallowCommentAfterCode"/>

    <rule ref="SlevomatCodingStandard.Commenting.DocCommentSpacing">
        <properties>
            <property name="linesCountBeforeFirstContent" value="0"/>
            <property name="linesCountBetweenDescriptionAndAnnotations" value="1"/>
            <property name="linesCountBetweenAnnotationsGroups" value="1"/>
            <property name="linesCountAfterLastContent" value="0"/>
            <property name="annotationsGroups" type="array">
                <element value="@internal,@deprecated"/>
                <element value="@link,@see,@uses"/>
                <element value="@param"/>
                <element value="@return"/>
                <element value="@throws"/>
            </property>
        </properties>
    </rule>

    <rule ref="SlevomatCodingStandard.Commenting.EmptyComment"/>

    <rule ref="SlevomatCodingStandard.Commenting.ForbiddenAnnotations">
        <properties>
            <property name="forbiddenAnnotations" type="array">
                <element value="@api"/>
                <element value="@author"/>
                <element value="@category"/>
                <element value="@copyright"/>
                <element value="@created"/>
                <element value="@license"/>
                <element value="@package"/>
                <element value="@since"/>
                <element value="@subpackage"/>
                <element value="@version"/>
            </property>
        </properties>
    </rule>

    <rule ref="SlevomatCodingStandard.Commenting.ForbiddenComments">
        <properties>
            <property name="forbiddenCommentPatterns" type="array">
                <element value="/Date\:\s\./"/>
                <element value="/Created by PhpStorm\./"/>
                <element value="/var_dump\s*\(/"/>
                <element value="/print_r\s*\(/"/>
            </property>
        </properties>
    </rule>

    <rule ref="SlevomatCodingStandard.Commenting.InlineDocCommentDeclaration">
        <exclude name="SlevomatCodingStandard.Commenting.InlineDocCommentDeclaration.MissingVariable" />
    </rule>
    <rule ref="SlevomatCodingStandard.Commenting.RequireOneDocComment"/>
    <rule ref="SlevomatCodingStandard.Commenting.RequireOneLineDocComment"/>
    <rule ref="SlevomatCodingStandard.Commenting.DisallowOneLinePropertyDocComment"/>

    <rule ref="SlevomatCodingStandard.Commenting.UselessFunctionDocComment">
        <properties>
            <property name="traversableTypeHints" type="array">
                <element value="Traversable"/>
                <element value="Iterator"/>
                <element value="IteratorAggregate"/>
            </property>
        </properties>
    </rule>


    <!-- ################################################################## -->
    <!-- ##                    CONTROL STRUCTURES                        ## -->
    <!-- ################################################################## -->

    <rule ref="SlevomatCodingStandard.ControlStructures.AssignmentInCondition">
        <properties>
            <property name="ignoreAssignmentsInsideFunctionCalls" value="false"/>
        </properties>
    </rule>

    <rule ref="SlevomatCodingStandard.ControlStructures.BlockControlStructureSpacing">
        <properties>
            <property name="linesCountBefore" value="1"/>
            <property name="linesCountBeforeFirst" value="0"/>
            <property name="linesCountAfter" value="1"/>
            <property name="linesCountAfterLast" value="0"/>
            <property name="controlStructures" type="array">
                <element value="if"/>
                <element value="switch"/>
                <element value="for"/>
                <element value="foreach"/>
                <element value="while"/>
                <element value="do"/>
                <element value="try"/>
            </property>
        </properties>
    </rule>

    <rule ref="SlevomatCodingStandard.ControlStructures.DisallowContinueWithoutIntegerOperandInSwitch"/>
    <rule ref="SlevomatCodingStandard.ControlStructures.DisallowTrailingMultiLineTernaryOperator"/>
    <rule ref="SlevomatCodingStandard.ControlStructures.DisallowYodaComparison"/>

    <rule ref="SlevomatCodingStandard.ControlStructures.EarlyExit">
        <properties>
            <property name="ignoreStandaloneIfInScope" value="true"/>
            <property name="ignoreOneLineTrailingIf" value="true"/>
            <property name="ignoreTrailingIfWithOneInstruction" value="true"/>
        </properties>
    </rule>


    <rule ref="SlevomatCodingStandard.ControlStructures.JumpStatementsSpacing">
        <properties>
            <property name="jumpStatements" type="array">
                <element value="return"/>
                <element value="continue"/>
                <element value="break"/>
                <element value="throw"/>
            </property>

            <property name="linesCountBefore" value="1"/>
            <property name="linesCountBeforeFirst" value="0"/>
            <property name="linesCountBeforeWhenFirstInCaseOrDefault" value="0"/>

            <property name="linesCountAfter" value="1"/>
            <property name="linesCountAfterLast" value="0"/>
            <property name="linesCountAfterWhenLastInCaseOrDefault" value="0"/>
            <property name="linesCountAfterWhenLastInLastCaseOrDefault" value="0"/>

            <property name="allowSingleLineYieldStacking" value="true"/>
        </properties>
    </rule>


    <rule ref="SlevomatCodingStandard.ControlStructures.LanguageConstructWithParentheses"/>
    <rule ref="SlevomatCodingStandard.ControlStructures.NewWithParentheses"/>
    <rule ref="SlevomatCodingStandard.ControlStructures.RequireTernaryOperator">
        <properties>
            <property name="ignoreMultiLine" value="false" />
        </properties>
    </rule>
    <rule ref="SlevomatCodingStandard.ControlStructures.UselessIfConditionWithReturn"/>
    <rule ref="SlevomatCodingStandard.ControlStructures.UselessTernaryOperator"/>

    <!-- ################################################################## -->
    <!-- ##                         FILES                                ## -->
    <!-- ################################################################## -->

    <rule ref="SlevomatCodingStandard.Files.LineLength">
        <properties>
            <property name="lineLengthLimit" value="120"/>
            <property name="ignoreComments" value="true"/>
            <property name="ignoreImports" value="true"/>
        </properties>
    </rule>

    <!-- ################################################################## -->
    <!-- ##                        FUNCTIONS                             ## -->
    <!-- ################################################################## -->

    <rule ref="SlevomatCodingStandard.Functions.DisallowEmptyFunction"/>

    <rule ref="SlevomatCodingStandard.Functions.NamedArgumentSpacing"/>
    <rule ref="SlevomatCodingStandard.Functions.StaticClosure"/>
    <rule ref="SlevomatCodingStandard.Functions.StrictCall"/>
    <rule ref="SlevomatCodingStandard.Functions.UnusedInheritedVariablePassedToClosure"/>

    <rule ref="SlevomatCodingStandard.Functions.UnusedParameter">
        <properties>
            <property name="allowedParameterPatterns" type="array">
                <element value="/^unused/"/>
            </property>
        </properties>
    </rule>

    <rule ref="SlevomatCodingStandard.Functions.UselessParameterDefaultValue"/>

    <!-- ################################################################## -->
    <!-- ##                       NAMESPACES                             ## -->
    <!-- ################################################################## -->

    <rule ref="SlevomatCodingStandard.Namespaces.AlphabeticallySortedUses">
        <properties>
            <property name="psr12Compatible" value="true"/>
            <property name="caseSensitive" value="false"/>
        </properties>
    </rule>

    <rule ref="SlevomatCodingStandard.Namespaces.DisallowGroupUse"/>
    <rule ref="SlevomatCodingStandard.Namespaces.MultipleUsesPerLine"/>
    <rule ref="SlevomatCodingStandard.Namespaces.NamespaceDeclaration"/>

    <rule ref="SlevomatCodingStandard.Namespaces.NamespaceSpacing">
        <properties>
            <property name="linesCountBeforeNamespace" value="1"/>
            <property name="linesCountAfterNamespace" value="1"/>
        </properties>
    </rule>

    <rule ref="SlevomatCodingStandard.Namespaces.ReferenceUsedNamesOnly">
        <properties>

            <!-- ALLOW USING BUILT-IN GLOBAL FUNCTIONS WITHOUT IMPORTS -->
            <property name="allowFallbackGlobalFunctions" value="true"/>

            <!-- ALLOW USING BUILT-IN GLOBAL CONSTANTS WITHOUT IMPORTS -->
            <property name="allowFallbackGlobalConstants" value="true"/>

            <!-- ALLOW USING BUILT-IN CLASSES/FUNCTIONS/CONSTANTS WITH LEADING \ -->
            <property name="allowFullyQualifiedGlobalClasses" value="true"/>
            <property name="allowFullyQualifiedGlobalFunctions" value="true"/>
            <property name="allowFullyQualifiedGlobalConstants" value="true"/>

            <!-- DISALLOW PARTIAL NAMESPACE IMPORTS (best practice) -->
            <property name="allowPartialUses" value="false"/>

            <!-- KEEP DEFAULT BEHAVIOR EVEN IN FILES WITHOUT A NAMESPACE -->
            <property name="allowWhenNoNamespace" value="true"/>

            <!-- KEEP DEFAULTS FOR ADVANCED OPTIONS YOU DO NOT NEED -->
            <!-- searchAnnotations: leave false -->
            <!-- namespacesRequiredToUse: leave unset -->
            <!-- allowFullyQualifiedExceptions: leave unset -->
            <!-- specialExceptionNames: leave unset -->
            <!-- ignoredNames: leave unset -->
            <!-- allowFullyQualifiedNameForColliding*: leave unset -->

        </properties>
    </rule>

    <rule ref="SlevomatCodingStandard.Namespaces.RequireOneNamespaceInFile"/>

    <rule ref="SlevomatCodingStandard.Namespaces.UnusedUses">
        <properties>
            <property name="searchAnnotations" value="true"/>
        </properties>
    </rule>

    <rule ref="SlevomatCodingStandard.Namespaces.UseDoesNotStartWithBackslash"/>
    <rule ref="SlevomatCodingStandard.Namespaces.UseFromSameNamespace"/>

    <rule ref="SlevomatCodingStandard.Namespaces.UseSpacing">
        <properties>
            <property name="linesCountBeforeFirstUse" value="1"/>
            <property name="linesCountBetweenUseTypes" value="1"/>
            <property name="linesCountAfterLastUse" value="1"/>
        </properties>
    </rule>

    <rule ref="SlevomatCodingStandard.Namespaces.UselessAlias"/>

    <!-- ################################################################## -->
    <!-- ##                        OPERATORS                             ## -->
    <!-- ################################################################## -->

    <rule ref="SlevomatCodingStandard.Operators.NegationOperatorSpacing">
        <properties>
            <property name="spacesCount" value="0"/>
        </properties>
    </rule>

    <rule ref="SlevomatCodingStandard.Operators.RequireCombinedAssignmentOperator"/>
    <rule ref="SlevomatCodingStandard.Operators.RequireOnlyStandaloneIncrementAndDecrementOperators"/>

    <rule ref="SlevomatCodingStandard.Operators.SpreadOperatorSpacing">
        <properties>
            <property name="spacesCountAfterOperator" value="0"/>
        </properties>
    </rule>

    <!-- ################################################################## -->
    <!-- ##                           PHP                                ## -->
    <!-- ################################################################## -->

    <rule ref="SlevomatCodingStandard.PHP.DisallowDirectMagicInvokeCall"/>
    <rule ref="SlevomatCodingStandard.PHP.ForbiddenClasses"/>
    <rule ref="SlevomatCodingStandard.PHP.OptimizedFunctionsWithoutUnpacking"/>

    <rule ref="SlevomatCodingStandard.PHP.ReferenceSpacing">
        <properties>
            <property name="spacesCountAfterReference" value="0"/>
        </properties>
    </rule>

    <rule ref="SlevomatCodingStandard.PHP.UselessParentheses">
        <properties>
            <property name="ignoreComplexTernaryConditions" value="true" />
        </properties>
    </rule>

    <rule ref="SlevomatCodingStandard.PHP.UselessSemicolon"/>

    <!-- ################################################################## -->
    <!-- ##                         VARIABLES                            ## -->
    <!-- ################################################################## -->

    <rule ref="SlevomatCodingStandard.Variables.DuplicateAssignmentToVariable"/>
    <rule ref="SlevomatCodingStandard.Variables.UnusedVariable">
        <properties>
            <property name="ignoreUnusedValuesWhenOnlyKeysAreUsedInForeach" value="true" />
        </properties>
    </rule>
    <rule ref="SlevomatCodingStandard.Variables.UselessVariable"/>
    <rule ref="SlevomatCodingStandard.Variables.DisallowVariableVariable"/>

    <!-- ################################################################## -->
    <!-- ##                       WHITESPACES                            ## -->
    <!-- ################################################################## -->

    <rule ref="SlevomatCodingStandard.Whitespaces.DuplicateSpaces">
        <properties>
            <property name="ignoreSpacesBeforeAssignment" value="false"/>
            <property name="ignoreSpacesInAnnotation" value="false"/>
            <property name="ignoreSpacesInComment" value="true"/>
            <property name="ignoreSpacesInParameters" value="false"/>
        </properties>
    </rule>


    <!-- ################################################################## -->
    <!-- ##                      SQUIZ STANDARD                          ## -->
    <!-- ################################################################## -->

    <rule ref="Squiz.Strings.DoubleQuoteUsage.NotRequired"/>
    <rule ref="Squiz.PHP.Eval"/>
    <rule ref="Squiz.Commenting.EmptyCatchComment"/>
    <rule ref="Squiz.PHP.NonExecutableCode"/>
    <rule ref="Squiz.PHP.DisallowSizeFunctionsInLoops"/>
    <rule ref="Squiz.Classes.SelfMemberReference"/>
    <rule ref="Squiz.Functions.FunctionDuplicateArgument"/>
    <rule ref="Squiz.Operators.ValidLogicalOperators"/>
<!--    <rule ref="Squiz.Functions.GlobalFunction"/>-->
    <rule ref="Squiz.PHP.LowercasePHPFunctions"/>
    <rule ref="Squiz.PHP.DisallowMultipleAssignments"/>
<!--    <rule ref="Squiz.Arrays.ArrayBracketSpacing"/>-->
    <rule ref="Squiz.Scope.StaticThisUsage"/>
    <rule ref="Squiz.WhiteSpace.FunctionOpeningBraceSpace"/>
    <rule ref="Squiz.WhiteSpace.LogicalOperatorSpacing"/>
    <rule ref="Squiz.WhiteSpace.SemicolonSpacing"/>

    <rule ref="Squiz.NamingConventions.ValidVariableName">
        <exclude name="Squiz.NamingConventions.ValidVariableName.PrivateNoUnderscore"/>
    </rule>
    <rule ref="Squiz.NamingConventions.ValidVariableName.MemberNotCamelCaps" />

    <rule ref="Squiz.WhiteSpace.SuperfluousWhitespace">
        <properties>
            <property name="ignoreBlankLines" value="false"/>
        </properties>
    </rule>
    <rule ref="Squiz.WhiteSpace.SuperfluousWhitespace.EmptyLines">
        <severity>5</severity>
    </rule>

    <rule ref="Squiz.WhiteSpace.ObjectOperatorSpacing">
        <properties>
            <property name="ignoreNewlines" value="true"/>
        </properties>
    </rule>

<!--    <rule ref="Squiz.WhiteSpace.FunctionSpacing">-->
<!--        <properties>-->
<!--            <property name="spacing" value="1"/>-->
<!--            <property name="spacingBeforeFirst" value="0"/>-->
<!--            <property name="spacingAfterLast" value="0"/>-->
<!--        </properties>-->
<!--    </rule>-->

    <rule ref="Squiz.Strings.ConcatenationSpacing">
        <properties>
            <property name="spacing" value="1"/>
            <property name="ignoreNewlines" value="true"/>
        </properties>
    </rule>
<!--    <rule ref="Squiz.Commenting.VariableComment" />-->
    <!--    <rule ref="Squiz.Commenting.BlockComment" />-->
    <!--    <rule ref="Squiz.Commenting.FileComment" />-->
<!--    <rule ref="Squiz.Commenting.ClassComment" />-->
    <!--    <rule ref="Squiz.Commenting.FunctionComment"/>-->
    <!-- <rule ref="Squiz.Commenting.InlineComment" /> -->
    <!-- <rule ref="PEAR.Commenting.InlineComment"/> -->

    <!-- ################################################################## -->
    <!-- ##                    GENERIC STANDARD                          ## -->
    <!-- ################################################################## -->

    <rule ref="Generic.Classes.DuplicateClassName"/>
    <rule ref="Generic.CodeAnalysis.UnnecessaryFinalModifier"/>
    <rule ref="Generic.CodeAnalysis.UselessOverridingMethod"/>
    <rule ref="Generic.CodeAnalysis.UnconditionalIfStatement"/>
    <rule ref="Generic.CodeAnalysis.ForLoopWithTestFunctionCall"/>
    <rule ref="Generic.CodeAnalysis.EmptyPHPStatement"/>
    <rule ref="Generic.CodeAnalysis.EmptyStatement">
        <exclude name="Generic.CodeAnalysis.EmptyStatement.DetectedCatch"/>
    </rule>
    <rule ref="Generic.CodeAnalysis.RequireExplicitBooleanOperatorPrecedence"/>
    <rule ref="Generic.Files.OneObjectStructurePerFile"/>
    <rule ref="Generic.PHP.BacktickOperator"/>
    <rule ref="Generic.PHP.DiscourageGoto"/>
    <rule ref="Generic.PHP.DeprecatedFunctions"/>
    <rule ref="Generic.PHP.DisallowAlternativePHPTags"/>
    <rule ref="Generic.PHP.DisallowShortOpenTag"/>
    <rule ref="Generic.PHP.ForbiddenFunctions">
        <properties>
            <property name="forbiddenFunctions" type="array">
                <element key="empty" value="null"/>
                <element key="doubleval" value="floatval"/>
                <element key="is_double" value="is_float"/>
                <element key="is_integer" value="is_int"/>
                <element key="is_long" value="is_int"/>
                <element key="is_real" value="is_float"/>
                <element key="d" value="null"/>
                <element key="dd" value="null"/>
                <element key="dump" value="null"/>
                <element key="dump_d" value="null"/>
                <element key="var_dump" value="null"/>
            </property>
        </properties>
    </rule>
    <rule ref="Generic.Strings.UnnecessaryHeredoc"/>
    <rule ref="Generic.VersionControl.GitMergeConflict"/>
    <rule ref="Generic.Arrays.DisallowLongArraySyntax"/>
    <rule ref="Generic.Formatting.SpaceAfterCast"/>

    <!-- ################################################################## -->
    <!-- ##                   UNIVERSAL STANDARD                         ## -->
    <!-- ################################################################## -->

    <rule ref="Universal.Namespaces.DisallowDeclarationWithoutName"/>
    <rule ref="Universal.Arrays.DuplicateArrayKey"/>
    <rule ref="Universal.Classes.ModifierKeywordOrder"/>
    <rule ref="Universal.Classes.RequireAnonClassParentheses"/>
    <rule ref="Universal.Namespaces.DisallowCurlyBraceSyntax"/>
    <rule ref="Universal.CodeAnalysis.ConstructorDestructorReturn"/>
    <rule ref="Universal.CodeAnalysis.NoDoubleNegative"/>
    <rule ref="Universal.CodeAnalysis.ForeachUniqueAssignment"/>
    <rule ref="Universal.CodeAnalysis.NoEchoSprintf"/>
    <rule ref="Universal.CodeAnalysis.StaticInFinalClass"/>
    <rule ref="Universal.UseStatements.NoUselessAliases"/>
    <rule ref="Universal.UseStatements.DisallowMixedGroupUse"/>
    <rule ref="Universal.UseStatements.KeywordSpacing"/>
    <rule ref="Universal.UseStatements.LowercaseFunctionConst"/>
    <rule ref="Universal.Constants.ModifierKeywordOrder"/>
    <rule ref="Universal.Operators.DisallowStandalonePostIncrementDecrement"/>
    <rule ref="Universal.Constants.LowercaseClassResolutionKeyword"/>
    <rule ref="Universal.Constants.UppercaseMagicConstants"/>
    <rule ref="Universal.Files.SeparateFunctionsFromOO"/>
    <rule ref="Universal.Operators.TypeSeparatorSpacing"/>
    <rule ref="Universal.NamingConventions.NoReservedKeywordParameterNames"/>
    <rule ref="Universal.WhiteSpace.AnonClassKeywordSpacing"/>
</ruleset>
